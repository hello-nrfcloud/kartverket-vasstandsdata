import {
	packLambdaFromPath,
	type PackedLambda,
} from '@bifravst/aws-cdk-lambda-helpers'

export type BackendLambdas = {
	waterLevels: PackedLambda
}

const pack = async (id: string) =>
	packLambdaFromPath({ id, sourceFilePath: `lambda/${id}.ts` })

export const packBackendLambdas = async (): Promise<BackendLambdas> => ({
	waterLevels: await pack('waterLevels'),
})
